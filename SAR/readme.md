## SAR create vis

[EO-Brouser](https://apps.sentinel-hub.com/eo-browser/?zoom=12&lat=46.64213&lng=32.64793&themeId=DEFAULT-THEME&visualizationUrl=https%3A%2F%2Fservices.sentinel-hub.com%2Fogc%2Fwms%2Ff2068f4f-3c75-42cf-84a1-42948340a846&evalscript=Ly8gU2VudGluZWwtMSBGYWxzZS1Db2xvciBWaXN1YWxpemF0aW9uIFYxLjAuMAovLyBUd2l0dGVyOiBQaWVycmUgTWFya3VzZSAoQHBpZXJyZV9tYXJrdXNlKQovLyBXZWJzaXRlOiBodHRwczovL3BpZXJyZS1tYXJrdXNlLm5ldC8KLy8gQ0MgQlkgNC4wIEludGVybmF0aW9uYWwgLSBodHRwczovL2NyZWF0aXZlY29tbW9ucy5vcmcvbGljZW5zZXMvYnkvNC4wLwpmdW5jdGlvbiBzdHJldGNoKHZhbCwgbWluLCBtYXgpICB7CiAgICByZXR1cm4gKHZhbCAtIG1pbikgLyAobWF4IC0gbWluKTsKfQpmdW5jdGlvbiBzYXRFbmgocmdiQXJyKSB7CiAgICB2YXIgYXZnID0gcmdiQXJyLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gcmdiQXJyLmxlbmd0aDsKICAgIHJldHVybiByZ2JBcnIubWFwKGEgPT4gYXZnICogKDEgLSBzYXR1cmF0aW9uKSArIGEgKiBzYXR1cmF0aW9uKTsKfQp2YXIgQkxVRSA9IFswLjAsIDAuMiwgMS4wXTsKdmFyIEdSRUVOID0gWzAuMCwgMC43LCAwLjBdOwp2YXIgQkxBQ0sgPSBbMC4wLCAwLjAsIDAuMF07CnZhciBSRUQgPSBbMS4wLCAwLjAsIDAuMF07CnZhciB3YXRlcl9ub3JtYWwgPSBbc3RyZXRjaChWVioxLDAuMCwwLjk5KSxzdHJldGNoKFZWKjgsMC4wLDAuOTkpLDAuNStWViozK3N0cmV0Y2goVkgqMjAwMCwwLjAsMC45OSldOwp2YXIgd2F0ZXJfYnJpZ2h0ID0gW3N0cmV0Y2goVlYqMS4zMywwLjAsMC45OSksc3RyZXRjaChWVioxMCwwLjAsMC45OSksMC41K1ZWKjQrc3RyZXRjaChWSCozMDAwLDAuMCwwLjk5KV07CnZhciBvaWxzcGlsbF8xID0gW3N0cmV0Y2goVlYqNS4wLDAuMiwwLjk5KSwwLjArc3RyZXRjaChWVioxMCwwLjEwLDAuNTApLDAuMCtzdHJldGNoKFZWKjIwLDAuMTAsMC41MCldOwp2YXIgb2lsc3BpbGxfMiA9IFtzdHJldGNoKFZWKjUuMCwwLjIsMC45OSksMC4wK3N0cmV0Y2goVlYqMTAsMC4xNSwwLjQwKSwwLjErc3RyZXRjaChWVioyMCwwLjE1LDAuNDApXTsKdmFyIG9pbHNwaWxsXzMgPSBbc3RyZXRjaChWVio1LjAsMC4yLDAuOTkpLDAuMStzdHJldGNoKFZWKjExLDAuMDMsMC42MCksMC4xK3N0cmV0Y2goVlYqMjMsMC4wMSwwLjU4KV07CnZhciBsYW5kX3JlZGRlciA9IFtzdHJldGNoKFZWKjMuNCwtMC4wLDAuOTkpLChzdHJldGNoKFZWKjEuMSwtMC4wLDAuOTkpK3N0cmV0Y2goVkgqOC43NSwtMC4wLDAuOTkpKSxzdHJldGNoKFZIKjEuNzUsLTAuMCwwLjk5KV07CnZhciBsYW5kX25vcm1hbCA9IFtzdHJldGNoKFZWKjMuMCwtMC4wLDAuOTkpLChzdHJldGNoKFZWKjEuMSwtMC4wLDAuOTkpK3N0cmV0Y2goVkgqOC43NSwtMC4wLDAuOTkpKSxzdHJldGNoKFZIKjEuNzUsLTAuMCwwLjk5KV07CnZhciBsYW5kX2dyZWVuZXIgPSBbc3RyZXRjaChWViozLjAsLTAuMCwwLjk5KSwoc3RyZXRjaChWVioxLjQsLTAuMCwwLjk5KStzdHJldGNoKFZIKjkuNzUsLTAuMCwwLjk5KSksc3RyZXRjaChWSCoxLjc1LC0wLjAsMC45OSldOwp2YXIgY2l0eSA9IFswLjktVlYtMipWSCwwLjktVlYtMypWSCwwLjktMC4zKlZWLTYqVkhdOwp2YXIgd2F0ZXJ2aXMgPSB3YXRlcl9ub3JtYWw7CnZhciBsYW5kdmlzID0gbGFuZF9ub3JtYWw7CnZhciB3YXRlcl90aHJlc2hvbGQgPSAxMDA7IC8vbG93ZXIgbWVhbnMgbW9yZSB3YXRlcgp2YXIgc2F0dXJhdGlvbiA9IDEuMDsgLy9TdGFuZGFyZCAxLjAKdmFyIGJyaWdodG5lc3MgPSAxLjA7IC8vU3RhbmRhcmQgMS4wCnZhciBhdm9pZF9kYXJrX2xhbmQgPSAwOyAvLzA9b2ZmLDE9b24KdmFyIGF2b2lkX2RhcmtfbGFuZF90aHJlc2hvbGQgPSAwLjE7IC8vU3RhbmRhcmQgMC4wNQp2YXIgYXZvaWRfZGFya193YXRlciA9IDA7IC8vMD1vZmYsMT1vbgp2YXIgYXZvaWRfZGFya193YXRlcl90aHJlc2hvbGQgPSAxLjAwOyAvL1N0YW5kYXJkIDEuMDAKdmFyIG1hbnVhbENvcnJlY3Rpb25fd2F0ZXIgPSBbMC4wMCwgMC4wMCwgMC4wMF07CnZhciBtYW51YWxDb3JyZWN0aW9uX2xhbmQgPSBbMC4wMCwgMC4wMCwgMC4wMF07CnZhciBpID0gMDsKd2hpbGUgKGk8Mykgewogd2F0ZXJ2aXNbaV0gPSB3YXRlcnZpc1tpXSArIG1hbnVhbENvcnJlY3Rpb25fd2F0ZXJbaV07CiBsYW5kdmlzW2ldID0gbGFuZHZpc1tpXSArIG1hbnVhbENvcnJlY3Rpb25fbGFuZFtpXTsKIGxhbmR2aXNbaV0gPSBsYW5kdmlzW2ldICogYnJpZ2h0bmVzczsKIGkrKzsKfTsKdmFyIHdhdGVydmlzID0gc2F0RW5oKHdhdGVydmlzKTsKdmFyIGxhbmR2aXMgPSBzYXRFbmgobGFuZHZpcyk7CmlmIChhdm9pZF9kYXJrX2xhbmQpIHsKIHZhciBkYXJrID0gbGFuZHZpc1swXStsYW5kdmlzWzFdK2xhbmR2aXNbMl07CiBpZiAoZGFyayA8IGF2b2lkX2RhcmtfbGFuZF90aHJlc2hvbGQpIHt2YXIgbGFuZHZpcz1CTFVFO307IC8vVHJ5IG90aGVyIHRoaW5ncyB0aGFuIEJMVUUhCn07CmlmIChhdm9pZF9kYXJrX3dhdGVyKSB7CiB2YXIgZGFyayA9IHdhdGVydmlzWzBdK3dhdGVydmlzWzFdK3dhdGVydmlzWzJdOwogaWYgKGRhcmsgPCBhdm9pZF9kYXJrX3dhdGVyX3RocmVzaG9sZCkge3ZhciB3YXRlcnZpcz1CTFVFO307IC8vVHJ5IG90aGVyIHRoaW5ncyB0aGFuIEJMVUUhCn07CnJldHVybiAoKFZWL1ZIKSA%2BIHdhdGVyX3RocmVzaG9sZCkKPyB3YXRlcnZpcyA6CiBsYW5kdmlzOw%3D%3D&datasetId=S1_AWS_IW_VVVH&fromTime=2022-10-21T00%3A00%3A00.000Z&toTime=2022-10-21T23%3A59%3A59.999Z&demSource3D=%22MAPZEN%22#custom-script)


![SAR](https://github.com/SergeyShchus/Satellite-Imagery-Analysis/blob/master/SAR/sar_kherson.jpg?raw=true)

Script (script_EObrouser.js):

```




var watervis = water_normal;
var landvis = land_normal;
var water_threshold = 25; //lower means more water
In these two lines, you choose which visualization should be used for water and land. The water/land distinction is simple but good enough for most images, change water_threshold to adapt to your scene.

land_normal usually yields good results, but if you want your scene to appear greener use land_greener, and in case you want it to appear more reddish and arid use land_redder. city can help when showing bigger cities with lots of artifacts caused by big buildings and bridges as it is a more subtle visualization, not showing cities as bright as the other land visualizations, it can also look nice with hilly terrains.

For water, you have even more choices. water_normal is usually the best choice, with water_bright giving you some more vivid colors for your water. oilspill_1, oilspill_2, and oilspill_3 are three slightly different visualizations to better show oil spills in water by creating more contrast. Choose the one you think is working best for your scene.

ImportantShould you be trying to show oil spills the variables avoid_dark_land and avoid_dark_water should be set to 0.
var saturation = 1.0; //Standard 1.0
var brightness = 1.0; //Standard 1.0
Pretty self-explanatory, these variables can be used to change the saturation and brightness of the scene. Note that while saturation does work on land and water, brightness is just working on land as water usually renders okayish or not at all, depending on your scene. However, should you want to get darker or brighter water, you can always change the visualization itself to fit your needs.

var avoid_dark_land = 0; //0=off,1=on
var avoid_dark_land_threshold = 0.1; //Standard 0.05
var avoid_dark_water = 0; //0=off,1=on
var avoid_dark_water_threshold = 1.00; //Standard 1.00
These variables can be used to avoid black or too dark pixels in your resulting image. Using these you can usually get a way better visualization of water (sea as well as inland water bodies). The thresholds can be used to adapt the function to your specific scene. Play with it to get the best results.

ImportantIn case youâ€™re using this function to get better water visualization, the variables landvis and watervis in lines 56 and 61 should be set to their standard of BLUE.
var manualCorrection_water = [0.00, 0.00, 0.00];
var manualCorrection_land = [0.00, 0.00, 0.00];
You can use these variables to manually change the appearance of the visualization by directly adding (positive values) or subtracting (negative values) RGB values.
var watervis = water_normal;
var landvis = land_normal;
var water_threshold = 25; //lower means more water
```
